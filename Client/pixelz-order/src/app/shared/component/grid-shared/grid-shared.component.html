

<div class="flex align-items-center">
  <div class="wrap-action">
    <ng-container *ngTemplateOutlet="customAction ? customAction : defaultcolumn"> </ng-container>
  </div>
  <div class="wrap-filter">
    <mat-form-field>
      <input matInput (keyup)="applyFilter($event.target['value'])" placeholder="Find by OrderNo" />
    </mat-form-field>
  </div>
</div>
<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort (matSortChange)="sortChange($event)" matSortDirection="asc">
    <ng-container *ngFor="let column of fieldNameHeader; let index = index; let last = last">
      <ng-container [matColumnDef]="column" *ngIf="column !== 'detail' && column !== customColumnName">
        <ng-container *ngIf="column === 'MultiSelect'; else elseTemplate">
          <th mat-header-cell *matHeaderCellDef class="multi-select">
            <mat-checkbox [(ngModel)]="selectAll" name="multi-select-header_{{index}}" (ngModelChange)="clickSelectAll($event)"></mat-checkbox>
          </th>
          <td mat-cell *matCellDef="let row"  class="multi-select">
            <mat-checkbox [(ngModel)]="row['IsSelected']" name="multi-select_{{index}}" (ngModelChange)="clickSelectRow($event)"></mat-checkbox>
          </td>
        </ng-container>
        <ng-template #elseTemplate>

          <ng-container matColumnDef="action" *ngIf="column === 'action'; else elseTemplateDefault">
            <th mat-header-cell *matHeaderCellDef class="infor-wrap">ahihi</th>
            <td mat-cell *matCellDef="let row" class="infor-wrap">
              <img class="detail-infor" src="../../../../assets/images/info_icon.png" width="150px" (click)="eventDetail($event, row)" />
            </td>
          </ng-container>
          <ng-template #elseTemplateDefault>
              <th mat-header-cell *matHeaderCellDef mat-sort-header>{{ column }}</th>
              <td mat-cell *matCellDef="let row" class="text-inline" title="{{ setDataField(row, column) }}">
                {{ setDataField(row, column) }}
              </td>
          </ng-template>

        </ng-template>
      </ng-container>


      <ng-container matColumnDef="detail" *ngIf="column === 'detail'">
        <th mat-header-cell *matHeaderCellDef class="infor-wrap"></th>
        <td mat-cell *matCellDef="let row" class="infor-wrap">
          <img class="detail-infor" src="../../../../assets/images/info_icon.png" width="150px" (click)="eventDetail($event, row)" />
        </td>
      </ng-container>

      <!-- <ng-container [matColumnDef]="customColumnName" *ngIf="column === customColumnName" data="row">
        <th mat-header-cell *matHeaderCellDef class=""></th>
        <td mat-cell *matCellDef="let row" style="padding-top: 0">
          <ng-container *ngTemplateOutlet="customColumns ? customColumns : defaultcolumn; context: { data: row }"> </ng-container>
        </td>
      </ng-container> -->
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="fieldNameHeader"></tr>
    <tr mat-row *matRowDef="let row; columns: fieldNameHeader" (dblclick)="getRecord(row)"></tr>
  </table>

  <!-- <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" showFirstLastButtons="true"></mat-paginator> -->

  <mat-paginator
    length="0"
    pageIndex="0"
    pageSize="50"
    [pageSizeOptions]="[5, 10, 25, 50, 100]"
    (page)="getServerData()"
    showFirstLastButtons="true"
  >
  </mat-paginator>
</div>

<ng-template #defaultcolumn> </ng-template>
